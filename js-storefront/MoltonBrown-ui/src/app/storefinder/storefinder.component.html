<section class="mb-content" >
  <div class="container">
    <div class="rowComponents">
      <div class="store_img_block">
        <a (click)="onShowStoreEvents($event)">
          <img
            src="assets/imgs/storeEventsBanner.jpg"
            alt="store event_banner"
          />
        </a>
      </div>
    </div>

    <div class="rowComponents mt-10 find-store">
      <div class="col-sm-6 find-store-search">
        <h1>Store Finder</h1>
        <p *ngIf="descriptionBlock">
          Find your nearest Molton Brown Store, Stockist or Hotel partner using
          our store locator.
        </p>
        
        <form [formGroup]="storeForm " custom-focus>
  <div *ngIf="loadGMscript">
    <span>
          <input
          class="find-store-input-form"
            googlePlaces
            placeholder="Enter a city, town or postcode"
            #findStore
            formControlName="storeName"
            (onSelect)="setAddress($event)"
            (keyup)="onSearchKeyUp($event)"
           
          />
          <!-- <div
          *ngIf="
            !storeForm.controls['storeName'].valid &&
            storeForm.get('storeName').touched
          "
          class="not-valid-error-msg"
        >
          <span
            [hidden]="!storeForm.controls['storeName'].errors.required"
            >please select a store</span
          >
        </div> -->
      </span>
          <button
            class="btn btn-default findStore"
            (click)="onSearchStore($event)"
          >
            Search
          </button>
        </div>
 
        <div class="find-store-err-msg-block" *ngIf="storeSuggestionBlock" >
            <div class="find-store-err-msg-cntnt"  *ngIf="emptyErrMsgBlocks">
                Please enter a city, town or postcode into the search box.
              </div>
          <div *ngIf="sorryErrMsgBlock">
            <span class="find-store-err-msg-cntnt">
              Sorry, no stores found near</span>
            &quot;<span class="find-store-pc"> {{postCode}}</span>&quot;
            <br />
        
         
            </div>
            <div class="find-store-suggestion-bl" >
            <div class="find-store-suggestion">
              Please try again.<br />
              <span class="find-store-suggestion-head">Suggestions:</span>
              <br />
              <br />
              <ul class="find-store-suggestion-list">
                <li>Make sure street and city names are spelt correctly</li>
                <li>Try including a town or city</li>
                <li>Try entering a zip code</li>
                <li>Widen your search area</li>
              </ul>
            </div>
          </div>
        </div>

        </form>
      
      </div>
      <div class="col-sm-6 find-store-search-banner">
        <img
          src="assets/imgs/store-img-banner.png"
          alt="store event_banner"
        />
      </div>
    </div>

    <div class="mt-10 all_stores">
      <h3 class="view-allstores">All Stores</h3>
      <ul *ngIf="stores">
        <li
          class="store"
          *ngFor="let data of stores; let k = index"
          (click)="onCountryTyeClick($event, k)"
        >
          <h4
            [ngClass]="{
              'store_head-open': data.show,
              'store_head-hide': !data.show
            }"
          >
            <a class="store_head">{{ data.country }}</a>
          </h4>
          <div class="store_type_block">
            <div class="store-inner">
              <ul *ngIf="data.stores">
                <li
                  *ngFor="let type of data.stores; let l = index"
                  (click)="onStoretyeClick($event, k, l)"
                >
                  <h5
                    [ngClass]="{
                      'store-inner-open': type.show,
                      'store-inner-hide': !type.show
                    }"
                  >
                    <a>
                      {{ type.storeType }}
                    </a>
                  </h5>
                  <div class="store-inner-type-block" *ngIf="type.stores">
                    <div class="store-inner-list rowComponents">
                      <div
                        class="store-inner-list-item col-sm-3"
                        *ngFor="let store of type.stores"
                      >
                        <ul>
                          <li (click)="onCheckStore(store)">
                            <a>{{ store }}</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </li>
      </ul>
    </div>
    <div class="justify-content-center freshrelavance ">
      <h2 class="customer">Shop our Customer Favourites</h2>
      <div #storeFinderFeed></div>
      <!-- <div
        class="tmspslot"
        style="width: 100%; min-height: 60px;margin-bottom:8px;"
        data-k="qa5buoy"
        data-slid="uk-hybris-prod-feed-search-results"
        data-p="1"
      ></div>
       <div>
        <img
          width="748px"
          src="//images.moltonbrown.co.uk/images/storefront/Store_Finder_Image.gif?version=16"
          alt="Molton Brown UK  storefinder"
        />
      </div> -->
      <!-- <div class="search-header">
        <h3>Need more help?</h3>
        <div>
          You may be able to find the answer in our
          <a routerLink = "/store/faqs"><u>FAQs and help</u></a> pages or contact our
          customer services team on freephone: +44 (0)808 178 1188 or email us
          on
          <a href="mailto:customerservice@moltonbrown.com">
            <u>customerservice@moltonbrown.com</u>.
          </a>
          Our lines are open: 8am-8pm (UK Time) Monday to Friday, 10am-4pm (UK
          Time) Saturday. We aim to respond to all messages and call backs
          within 2 working days of receipt.<br /><br />
        </div>
      </div> -->
    </div>
  </div>
</section>
